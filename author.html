<!DOCTYPE html>
<html>
  <head>
    <title>Author Entry Sunnith</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
      integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
      integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
      crossorigin="anonymous"
    ></script>
  </head>

  <body>
    <h1>Author entry Sunnith Reddy</h1>
    <h2>Getting input</h2>
    <form class="form-horizontal">
      <div class="form-group">
        <label class="control-label col-sm-2" for="form1_secret-author"
          >The hidden author name</label
        >

        <div class="col-sm-10">
          <input
            type="password"
            id="form1_secret-author"
            name="form1_secret-author"
            value="Dickens"
          />
          <br /><br />
        </div>
      </div>
      <div class="form-group">
        <label class="control-label col-sm-2" for="form1_author"
          >Guess the author</label
        >
        <div class="col-sm-10"></div>
        <input type="text" id="form1_author" name="form1_author" autofocus />
        <br /><br />
      </div>
      <div class="form-group">
        <div class="col-sm-offset-2 col-sm-10">
          <input
            class="btn btn-primary"
            id="check"
            type="button"
            onclick="checkAuthor()"
            value="Check the guess"
          />
        </div>
      </div>
    </form>
    <br />
    <p id="result"></p>
    <div id="wrong"></div>
    <div class="text-center">
      <img
        id="city"
        src="kyoto.jpg"
        alt="kyoto"
        width="100px"
        height="100px"
        onclick="selectImage()"
      />
    </div>

    <script>
      let good = 0;
      let oops = 0;
      function checkAuthor() {
        console.log("Getting form values");
        author = document.getElementById("form1_secret-author").value;
        guess = document.getElementById("form1_author").value;
        if (author == guess) {
          good++;
          alert("You got it right");
          result.innerHTML = "success count: " + good;
        } else {
          oops++;
          if (oops == 7) {
            document
              .getElementById("check")
              .setAttribute("onClick", "wrongGuess()");
          } else {
            alert("Sorry");
            wrong.innerHTML = "wrong guess count : " + oops;
          }
        }
      }
      function wrongGuess() {
        alert("Sorry, ran out of guesses");
        wrong.innerHTML =
          "You have reached the limit of wrong guesses: " + oops;
      }

      let useImage = 1;
      function selectImage() {
        switch (useImage) {
          case 1:
            document.getElementById("city").src = "kyoto.jpg";
            useImage = 2;
            break;
          case 2:
            document.getElementById("city").src = "dubai.jpg";
            useImage = 3;
            break;
          case 3:
            document.getElementById("city").src = "oslo.jpg";
            useImage = 1;
            break;
        }
      }
    </script>
  </body>
</html>
